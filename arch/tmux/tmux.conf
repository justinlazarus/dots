# =============================================================================
# TMUX CONFIGURATION
# =============================================================================

# -----------------------------------------------------------------------------
# Terminal Settings
# -----------------------------------------------------------------------------
set -g default-terminal "tmux-256color"

# -----------------------------------------------------------------------------
# Prefix Key Configuration
# -----------------------------------------------------------------------------
unbind C-b
set-option -g prefix C-Space
bind-key C-Space send-prefix

# -----------------------------------------------------------------------------
# Key Bindings
# -----------------------------------------------------------------------------
# Pane splitting
bind | split-window -h
bind - split-window -v

# Vim-like pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# -----------------------------------------------------------------------------
# Window & Pane Settings
# -----------------------------------------------------------------------------
set -g base-index 1                    # Start windows at 1, not 0
setw -g pane-base-index 1             # Start panes at 1, not 0
setw -g mode-keys vi                   # Use vi keys in copy mode
set-option -g renumber-windows on      # Renumber windows when one is closed

# -----------------------------------------------------------------------------
# Rosé Pine Color Scheme
# -----------------------------------------------------------------------------
# Rosé Pine color definitions
thm_base="#191724"
thm_surface="#1f1d2e"
thm_overlay="#26233a"
thm_muted="#6e6a86"
thm_subtle="#908caa"
thm_text="#e0def4"
thm_love="#eb6f92"
thm_gold="#f6c177"
thm_rose="#ebbcba"
thm_pine="#31748f"
thm_foam="#9ccfd8"
thm_iris="#c4a7e7"
thm_hl_low="#21202e"
thm_hl_med="#403d52"
thm_hl_high="#524f67"

# -----------------------------------------------------------------------------
# Status Bar Configuration
# -----------------------------------------------------------------------------
set-option -g status-position bottom
set -g status-interval 2
set -g status-style "bg=$thm_surface,fg=$thm_text"

# Left side - Session name
set -g status-left "#[fg=$thm_base,bg=$thm_iris,bold] #S #[fg=$thm_iris,bg=$thm_surface,nobold]"
set -g status-left-length 100

# Right side - Git info and date/time
set -g status-right "#[fg=$thm_overlay,bg=$thm_surface]#[fg=$thm_text,bg=$thm_overlay] #(gitmux '#{pane_current_path}') #[fg=$thm_pine,bg=$thm_overlay]#[fg=$thm_base,bg=$thm_pine,bold] %H:%M #[fg=$thm_rose,bg=$thm_pine]#[fg=$thm_base,bg=$thm_rose,bold] %d-%b "
set -g status-right-length 100

# Window status
set -g window-status-format "#[fg=$thm_text,bg=$thm_surface] #I #[fg=$thm_subtle,bg=$thm_surface]#W "
set -g window-status-current-format "#[fg=$thm_surface,bg=$thm_gold]#[fg=$thm_base,bg=$thm_gold,bold] #I #[fg=$thm_base,bg=$thm_gold,bold]#W #[fg=$thm_gold,bg=$thm_surface]"

# Pane borders
set -g pane-border-style "fg=$thm_overlay"
set -g pane-active-border-style "fg=$thm_iris"

# Message styling
set -g message-style "bg=$thm_gold,fg=$thm_base"
set -g message-command-style "bg=$thm_gold,fg=$thm_base"

# Copy mode highlighting
set -g mode-style "bg=$thm_foam,fg=$thm_base"

# -----------------------------------------------------------------------------
# Plugin Management
# -----------------------------------------------------------------------------
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Initialize TMUX plugin manager (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
